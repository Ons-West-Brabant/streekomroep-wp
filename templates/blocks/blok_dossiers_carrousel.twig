<style>
    .slider {
        --grid-columns: 3;
        --grid-container: calc(min(100vw, 60rem) - 2rem);
        --grid-gutter: 0.5rem;

        overflow: scroll;
        -webkit-overflow-scrolling: touch;
    }

    /** sm */
    @media (min-width: 640px) {
        .slider {
            --grid-columns: 4;
        }
    }

    /** md */
    @media (min-width: 768px) {
        .slider {
            --grid-columns: 4;
        }
    }

    /** lg */
    @media (min-width: 1024px) {
        .slider {
            --grid-columns: 4;
        }
    }

    .slider-container {
        display: flex;
        flex-wrap: nowrap;
        flex-direction: row;
    }

    .slider-padding {
        flex: none;
        width: calc(((100vw - var(--grid-container)) / 2) - (var(--grid-gutter) / 2));
    }

    .slider-term {
        flex: none;
        width: calc((var(--grid-container) - var(--grid-gutter) * (var(--grid-columns) - 1)) / var(--grid-columns));
        min-width: 140px;
        margin: 0 calc(var(--grid-gutter) / 2);
    }
</style>


{% macro render_term(term) %}
    <a href="{{ term.link }}" class="block overflow-hidden slider-term bg-gray-800 rounded">
        <div class="aspect-h-16 aspect-w-9">
            <div>
                <img class="absolute inset-0 w-full" loading="lazy"
                     src="{{ Image(term.meta('dossier_afbeelding_hoog'))|resize(9*48,16*48) }}"/>
                <i class="block absolute inset-0 bg-gradient-to-b from-transparent via-transparent to-black opacity-60"></i>
                <div class="block absolute left-0 right-0 bottom-0 p-4">
                    <h1 class="block font-black text-md sm:text-xl text-white text-center">{{ term.title }}</h1>
                </div>
            </div>
        </div>
    </a>
{% endmacro %}

<div class="max-w-960 mx-auto px-4">
    <h2 class="font-black font-round uppercase text-sm my-2">CSS</h2>
</div>
<div class="slider">
    <div class="slider-container">
        <div class="slider-padding"></div>
        {% for term in block.terms %}
            {{ _self.render_term(term) }}
        {% endfor %}
        <div class="slider-padding"></div>
    </div>
</div>


<div class="max-w-960 mx-auto px-4">
    <h2 class="font-black font-round uppercase text-sm my-2">Flickity</h2>
</div>
<div class="slider slider-flickity">
    {% for term in block.terms %}
        {{ _self.render_term(term) }}
    {% endfor %}
</div>


<link rel="stylesheet" href="https://unpkg.com/flickity@2/dist/flickity.min.css">
<script src="https://unpkg.com/flickity@2/dist/flickity.pkgd.min.js"></script>
<script>
    // vanilla JS
    var flkty = new Flickity('.slider-flickity', {
        groupCells: 4
    });
    flkty.next();
</script>


<div class="max-w-960 mx-auto px-4">
    <h2 class="font-black font-round uppercase text-sm my-2">SwiperJS</h2>
</div>
<!-- Slider main container -->
<div class="swiper-container slider">
    <!-- Additional required wrapper -->
    <div class="swiper-wrapper">
        <!-- Slides -->
        {% for term in block.terms %}
            <div class="swiper-slide">
                {{ _self.render_term(term) }}
            </div>
        {% endfor %}
    </div>

    <!-- If we need navigation buttons -->
    <div class="swiper-button-prev"></div>
    <div class="swiper-button-next"></div>
</div>


<link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css"/>
<script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>
<script>
    const swiper = new Swiper('.swiper-container', {
        // Optional parameters
        direction: 'horizontal',
        loop: false,

        slidesOffsetBefore: 32,
        slidesOffsetAfter: 32,
        slidesPerView: 'auto',


        // Navigation arrows
        navigation: {
            nextEl: '.swiper-button-next',
            prevEl: '.swiper-button-prev',
        },
    });
</script>

