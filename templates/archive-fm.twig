{% extends "base.twig" %}

{% block content %}
    <div class="max-w-960 mx-auto px-4">
        <h1 class="font-bold text-3xl pt-4">De programma's van ZuidWest FM</h1>
        <div class="prose prose-lg">
            <p>Bekijk alle informatie over onze programma's en luister uitzendingen terug.</p>
        </div>

        <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4 py-8">
            {% for post in posts %}
                {% if post.fm_show_actief %}
                    <a class="block relative" href="{{ post.link }}">
                        <div class="relative aspect-w-1 aspect-h-1 overflow-hidden rounded bg-pink-600">
                            {% include 'partial/cover-duotone.twig' with { image: post.thumbnail.src|resize(200, 200) }  %}
                            <h1 class="w-full h-full p-4 absolute items-center justify-center flex uppercase font-round font-black text-white text-center text-2xl">{{ post.title }}</h1>
                        </div>
                        <h1 class="text-sm text-center mt-2">{{ post.title }}</h1>
                        <p class="text-center text-sm text-gray-500">
                            {% spaceless %}
                                {% for host in post.meta('fm_show_presentator') %}
                                    <span class="inline-block">{{ User(host) }}</span>
                                    {%- if not loop.last %}, {% endif %}
                                {% endfor %}
                            {% endspaceless %}
                        </p>
                    </a>
                {% else %}
                    {% set showArchive = true %}
                {% endif %}
            {% endfor %}
        </div>

        {% if showArchive %}
            <h1 class="font-bold text-3xl pt-4">Programma-archief</h1>
            <div class="prose prose-lg">
                <p>Deze programma's worden niet meer uitgezonden, maar je kunt ze nog wel terugluisteren.</p>
            </div>

            <div class="grid grid-cols-3 gap-8">
                {% for post in posts %}
                    {% if not post.fm_show_actief %}
                        <a class="block relative" href="{{ post.link }}">
                            <div class="relative aspect-w-1 aspect-h-1 overflow-hidden rounded bg-pink-600">
                                <img class="w-full h-full object-cover"
                                     src="{{ post.thumbnail.src|resize(100, 100) }}"/>
                            </div>
                            <h1 class="text-sm text-center mt-2">{{ post.title }}</h1>
                            <p class="text-center text-sm text-gray-500">
                                {% spaceless %}
                                    {% for host in post.meta('fm_show_presentator') %}
                                        <span class="inline-block">{{ User(host) }}</span>
                                        {%- if not loop.last %}, {% endif %}
                                    {% endfor %}
                                {% endspaceless %}
                            </p>
                        </a>
                    {% endif %}
                {% endfor %}
            </div>
        {% endif %}
    </div>
{% endblock %}
