{% extends "base.twig" %}

{% block content %}
    <div class="px-6 md:px-12 max-w-3xl mx-auto">
        <h1 class="mt-6 mb-8 text-5xl font-black font-round">{{ post.title }}</h1>
    </div>
    <div class="w-full mx-auto max-w-960">
        <img src="{{ post.thumbnail.src|resize(960, 540) }}" srcset="{{ post.thumbnail.src|resize(1920, 1080) }} 2x"
             class="w-full">
        {% if post.thumbnail.caption %}
            <p class="text-sm text-gray-500 text-center pt-2">{{ post.thumbnail.caption }}</p>
        {% endif %}
    </div>
    <div class="px-6 md:px-12 max-w-3xl mx-auto mt-8">
        <p class="flex flex-wrap items-center text-lg mb-8">
            <a href="{{ post.author.path }}" class="flex items-center">
                <img src="{{ post.author.avatar }}" class="h-8 w-8 rounded-full">
                <span class="block ml-3">{{ post.author.name }}</span>
            </a>
            <span class="text-base font-normal mx-2">·</span>
            <time datetime="{{ post.date|date('Y-m-d H:i:s') }}">{{ post.date }}</time>
            <span class="text-base font-normal mx-2">·</span>
            <span>{{ post.region.title }}</span>
        </p>


        <div class="prose md:prose-lg max-w-none">
            {{ post.content }}
        </div>
    </div>

    {% for item in Post(post.post_gekoppeld_fragment) %}
        <div class="w-full mx-auto max-w-960 mt-8">
            <style>.embed-container {
                    position: relative;
                    padding-bottom: 56.25%;
                    height: 0;
                    overflow: hidden;
                    max-width: 100%;
                }

                .embed-container iframe, .embed-container object, .embed-container embed {
                    position: absolute;
                    top: 0;
                    left: 0;
                    width: 100%;
                    height: 100%;
                }</style>
            <div class='embed-container'>
                {{ embed }}
            </div>
        </div>
    {% endfor %}

{% include "partial/socialshare.twig" %}

    {% if topical %}
        {% set term = topical.topic %}
        <div class="bg-gray-800 text-white">
            <h1>Meer over {{ term }}</h1>

            <ul>
                {% for post in topical.posts %}
                    <li><a href="{{ post.link }}">{{ post.title }}</a></li>
                {% endfor %}
            </ul>
            <a href="{{ term.link }}">Alles over {{ term.name }}</a>
        </div>
    {% endif %}

    {% if local %}
        <div class="bg-gray-800 text-white">
            <h1>Meer nieuws uit {{ local.region }}</h1>
            <div class="max-w-960 mx-auto grid md:grid-cols-4 gap-4 ">
                {% for post in local.posts %}
                    <a class="block" href="{{ post.link }}">
                        <img class="w-full" loading="lazy" src="{{ post.thumbnail.src|resize(201, 113) }}"
                             srcset="{{ post.thumbnail.src|resize(402, 226) }} 2x"/>
                        <h1>{{ post.title }}</h1>
                    </a>
                {% endfor %}
            </div>
        </div>
    {% endif %}

{% endblock %}
